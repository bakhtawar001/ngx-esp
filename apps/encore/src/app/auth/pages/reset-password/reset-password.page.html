<form name="resetForm" [formGroup]="form" novalidate>
  <div class="logo">
    <esp-encore-logo></esp-encore-logo>
  </div>
  <div class="content-wrapper" *ngIf="isLinkValidated">
    <div *ngIf="isValidLink; else invalidLink">
      <div *ngIf="!isUpdated; else updated">
        <div class="text-center">
          <label class="header-style-24">Reset Password</label>
          <div class="body-style-14-mineshaft mt-16">
            Please set a new password for your account. It’s a good idea to use
            a strong password that you’re not using elsewhere.
          </div>
        </div>
        <div class="mt-32">
          <esp-password-reset-form [formGroup]="form"></esp-password-reset-form>
        </div>
        <div class="mt-16 text-center">
          <a
            cos-flat-button
            color="primary"
            [disabled]="form.invalid || isProcessing"
            size="lg"
            (click)="updatePassword()"
          >
            Change Password
          </a>
        </div>
      </div>
    </div>

    <ng-template #updated>
      <div class="text-center">
        <div class="header-style-24">Password Reset Success</div>
        <div class="body-style-14-mineshaft mt-16">
          You can now log in using your new password.
        </div>
        <div class="mt-16">
          <a cos-flat-button color="primary" size="lg" routerLink="/auth/login">
            Go to Log In
          </a>
        </div>
      </div>
    </ng-template>

    <ng-template #invalidLink>
      <div class="text-center">
        <div class="header-style-24">Link Expired</div>
        <div class="body-style-14-mineshaft mt-16">
          The link you are trying to access is no longer available.
        </div>
        <div class="mt-16">
          <a cos-flat-button color="primary" size="lg" routerLink="/auth/login">
            Go to Log In
          </a>
        </div>
      </div>
    </ng-template>
  </div>
</form>
